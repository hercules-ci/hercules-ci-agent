#!/usr/bin/env nix-shell
#!nix-shell -i bash
#!nix-shell ../shell.nix

set -xe

cabal2nix cabal://cachix-0.3.8 > nix/cachix.nix
cabal2nix cabal://cachix-api-0.4.0 > nix/cachix-api.nix
cabal2nix cabal://inline-c-0.9.0.0 > nix/haskell-inline-c.nix
cabal2nix cabal://inline-c-cpp-0.4.0.2 >nix/haskell-inline-c-cpp.nix
cabal2nix cabal://servant-websockets-2.0.0 > nix/servant-websockets.nix
cabal2nix cabal://websockets-0.12.6.1 > nix/websockets.nix

pre-commit run --files \
  nix/cachix.nix \
  nix/cachix-api.nix \
  nix/haskell-inline-c.nix \
  nix/haskell-inline-c-cpp.nix \
  nix/websockets.nix \
  nix/servant-websockets.nix \
  nix/cachix.nix \
  nix/websockets.nix \
  ;
